import{c as f,g as Pe,r as k,s as G,w as J,i as Ue,K as ne,d as ie,ae as Ye,R as Xe,y as $,o as qe,t as Ge,m as Je,v as Qe,f as v,q as C,D as m,F as Q,n as b,u as t,B as Y,l as S,h as _,j as F,C as X,J as se,x as M,X as Ze,N as et,Q as q,k as tt,E as Ie,a5 as ot,S as _e,af as at,Y as nt,a3 as st,a4 as lt}from"./index-LE8b5c9H.js";import{i as $e,f as rt,h as it,e as Ee,c as ut,n as ct,d as le,p as Fe,g as ke,V as pt,D as dt,F as ft,k as vt,E as A,G as mt,_ as yt,w as ht}from"./base-W0QYOQCL.js";import{m as gt,C as bt}from"./copy-pplOWgKm.js";import{b as xt,e as wt,c as Ct,d as St,i as It,g as ze}from"./use-form-item-zIM4Brpp.js";const _t=()=>$e&&/firefox/i.test(window.navigator.userAgent),re="update:modelValue",Et=a=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(a),Ft=["class","style"],kt=/^on[A-Z]/,zt=(a={})=>{const{excludeListeners:p=!1,excludeKeys:r}=a,o=f(()=>((r==null?void 0:r.value)||[]).concat(Ft)),i=Pe();return i?f(()=>{var u;return rt(Object.entries((u=i.proxy)==null?void 0:u.$attrs).filter(([c])=>!o.value.includes(c)&&!(p&&kt.test(c))))}):f(()=>({}))};function Vt(a){const p=k();function r(){if(a.value==null)return;const{selectionStart:i,selectionEnd:u,value:c}=a.value;if(i==null||u==null)return;const h=c.slice(0,Math.max(0,i)),d=c.slice(Math.max(0,u));p.value={selectionStart:i,selectionEnd:u,value:c,beforeTxt:h,afterTxt:d}}function o(){if(a.value==null||p.value==null)return;const{value:i}=a.value,{beforeTxt:u,afterTxt:c,selectionStart:h}=p.value;if(u==null||c==null||h==null)return;let d=i.length;if(i.endsWith(c))d=i.length-c.length;else if(i.startsWith(u))d=u.length;else{const g=u[h-1],x=i.indexOf(g,h-1);x!==-1&&(d=x+1)}a.value.setSelectionRange(d,d)}return[r,o]}function Pt(a,{afterFocus:p,beforeBlur:r,afterBlur:o}={}){const i=Pe(),{emit:u}=i,c=G(),h=k(!1),d=s=>{h.value||(h.value=!0,u("focus",s),p==null||p())},g=s=>{var T;Ue(r)&&r(s)||s.relatedTarget&&((T=c.value)!=null&&T.contains(s.relatedTarget))||(h.value=!1,u("blur",s),o==null||o())},x=()=>{var s;(s=a.value)==null||s.focus()};return J(c,s=>{s&&s.setAttribute("tabindex","-1")}),it(c,"click",x),{wrapperRef:c,isFocused:h,handleFocus:d,handleBlur:g}}let w;const $t=`
  height:0 !important;
  visibility:hidden !important;
  ${_t()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Tt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Bt(a){const p=window.getComputedStyle(a),r=p.getPropertyValue("box-sizing"),o=Number.parseFloat(p.getPropertyValue("padding-bottom"))+Number.parseFloat(p.getPropertyValue("padding-top")),i=Number.parseFloat(p.getPropertyValue("border-bottom-width"))+Number.parseFloat(p.getPropertyValue("border-top-width"));return{contextStyle:Tt.map(c=>`${c}:${p.getPropertyValue(c)}`).join(";"),paddingSize:o,borderSize:i,boxSizing:r}}function Ve(a,p=1,r){var o;w||(w=document.createElement("textarea"),document.body.appendChild(w));const{paddingSize:i,borderSize:u,boxSizing:c,contextStyle:h}=Bt(a);w.setAttribute("style",`${h};${$t}`),w.value=a.value||a.placeholder||"";let d=w.scrollHeight;const g={};c==="border-box"?d=d+u:c==="content-box"&&(d=d-i),w.value="";const x=w.scrollHeight-i;if(Ee(p)){let s=x*p;c==="border-box"&&(s=s+i+u),d=Math.max(s,d),g.minHeight=`${s}px`}if(Ee(r)){let s=x*r;c==="border-box"&&(s=s+i+u),d=Math.min(s,d)}return g.height=`${d}px`,(o=w.parentNode)==null||o.removeChild(w),w=void 0,g}const Nt=ut({id:{type:String,default:void 0},size:ct,disabled:Boolean,modelValue:{type:le([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:le([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Fe},prefixIcon:{type:Fe},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:le([Object,Array,String]),default:()=>gt({})},autofocus:{type:Boolean,default:!1}}),Dt={[re]:a=>ne(a),input:a=>ne(a),change:a=>ne(a),focus:a=>a instanceof FocusEvent,blur:a=>a instanceof FocusEvent,clear:()=>!0,mouseleave:a=>a instanceof MouseEvent,mouseenter:a=>a instanceof MouseEvent,keydown:a=>a instanceof Event,compositionstart:a=>a instanceof CompositionEvent,compositionupdate:a=>a instanceof CompositionEvent,compositionend:a=>a instanceof CompositionEvent},Rt=["role"],At=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Mt=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Ot=ie({name:"ElInput",inheritAttrs:!1}),Lt=ie({...Ot,props:Nt,emits:Dt,setup(a,{expose:p,emit:r}){const o=a,i=Ye(),u=Xe(),c=f(()=>{const e={};return o.containerRole==="combobox"&&(e["aria-haspopup"]=i["aria-haspopup"],e["aria-owns"]=i["aria-owns"],e["aria-expanded"]=i["aria-expanded"]),e}),h=f(()=>[o.type==="textarea"?pe.b():l.b(),l.m(ce.value),l.is("disabled",z.value),l.is("exceed",De.value),{[l.b("group")]:u.prepend||u.append,[l.bm("group","append")]:u.append,[l.bm("group","prepend")]:u.prepend,[l.m("prefix")]:u.prefix||o.prefixIcon,[l.m("suffix")]:u.suffix||o.suffixIcon||o.clearable||o.showPassword,[l.bm("suffix","password-clear")]:W.value&&te.value},i.class]),d=f(()=>[l.e("wrapper"),l.is("focus",ee.value)]),g=zt({excludeKeys:f(()=>Object.keys(c.value))}),{form:x,formItem:s}=xt(),{inputId:T}=wt(o,{formItemContext:s}),ce=Ct(),z=St(),l=ke("input"),pe=ke("textarea"),O=G(),I=G(),Z=k(!1),B=k(!1),L=k(!1),de=k(),H=G(o.inputStyle),V=f(()=>O.value||I.value),{wrapperRef:Te,isFocused:ee,handleFocus:K,handleBlur:j}=Pt(V,{afterBlur(){var e;o.validateEvent&&((e=s==null?void 0:s.validate)==null||e.call(s,"blur").catch(n=>ze()))}}),fe=f(()=>{var e;return(e=x==null?void 0:x.statusIcon)!=null?e:!1}),N=f(()=>(s==null?void 0:s.validateState)||""),ve=f(()=>N.value&&pt[N.value]),Be=f(()=>L.value?dt:ft),Ne=f(()=>[i.style,o.inputStyle]),me=f(()=>[o.inputStyle,H.value,{resize:o.resize}]),E=f(()=>It(o.modelValue)?"":String(o.modelValue)),W=f(()=>o.clearable&&!z.value&&!o.readonly&&!!E.value&&(ee.value||Z.value)),te=f(()=>o.showPassword&&!z.value&&!o.readonly&&!!E.value&&(!!E.value||ee.value)),P=f(()=>o.showWordLimit&&!!g.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!z.value&&!o.readonly&&!o.showPassword),oe=f(()=>E.value.length),De=f(()=>!!P.value&&oe.value>Number(g.value.maxlength)),Re=f(()=>!!u.suffix||!!o.suffixIcon||W.value||o.showPassword||P.value||!!N.value&&fe.value),[Ae,Me]=Vt(O);vt(I,e=>{if(Oe(),!P.value||o.resize!=="both")return;const n=e[0],{width:y}=n.contentRect;de.value={right:`calc(100% - ${y+15+6}px)`}});const D=()=>{const{type:e,autosize:n}=o;if(!(!$e||e!=="textarea"||!I.value))if(n){const y=Ie(n)?n.minRows:void 0,U=Ie(n)?n.maxRows:void 0,Se=Ve(I.value,y,U);H.value={overflowY:"hidden",...Se},$(()=>{I.value.offsetHeight,H.value=Se})}else H.value={minHeight:Ve(I.value).minHeight}},Oe=(e=>{let n=!1;return()=>{var y;if(n||!o.autosize)return;((y=I.value)==null?void 0:y.offsetParent)===null||(e(),n=!0)}})(D),R=()=>{const e=V.value,n=o.formatter?o.formatter(E.value):E.value;!e||e.value===n||(e.value=n)},ae=async e=>{Ae();let{value:n}=e.target;if(o.formatter&&(n=o.parser?o.parser(n):n),!B.value){if(n===E.value){R();return}r(re,n),r("input",n),await $(),R(),Me()}},ye=e=>{r("change",e.target.value)},he=e=>{r("compositionstart",e),B.value=!0},ge=e=>{var n;r("compositionupdate",e);const y=(n=e.target)==null?void 0:n.value,U=y[y.length-1]||"";B.value=!Et(U)},be=e=>{r("compositionend",e),B.value&&(B.value=!1,ae(e))},Le=()=>{L.value=!L.value,xe()},xe=async()=>{var e;await $(),(e=V.value)==null||e.focus()},He=()=>{var e;return(e=V.value)==null?void 0:e.blur()},Ke=e=>{Z.value=!1,r("mouseleave",e)},je=e=>{Z.value=!0,r("mouseenter",e)},we=e=>{r("keydown",e)},We=()=>{var e;(e=V.value)==null||e.select()},Ce=()=>{r(re,""),r("change",""),r("clear"),r("input","")};return J(()=>o.modelValue,()=>{var e;$(()=>D()),o.validateEvent&&((e=s==null?void 0:s.validate)==null||e.call(s,"change").catch(n=>ze()))}),J(E,()=>R()),J(()=>o.type,async()=>{await $(),R(),D()}),qe(()=>{!o.formatter&&o.parser,R(),$(D)}),p({input:O,textarea:I,ref:V,textareaStyle:me,autosize:Ge(o,"autosize"),focus:xe,blur:He,select:We,clear:Ce,resizeTextarea:D}),(e,n)=>Je((v(),C("div",se(t(c),{class:t(h),style:t(Ne),role:e.containerRole,onMouseenter:je,onMouseleave:Ke}),[m(" input "),e.type!=="textarea"?(v(),C(Q,{key:0},[m(" prepend slot "),e.$slots.prepend?(v(),C("div",{key:0,class:b(t(l).be("group","prepend"))},[Y(e.$slots,"prepend")],2)):m("v-if",!0),S("div",{ref_key:"wrapperRef",ref:Te,class:b(t(d))},[m(" prefix slot "),e.$slots.prefix||e.prefixIcon?(v(),C("span",{key:0,class:b(t(l).e("prefix"))},[S("span",{class:b(t(l).e("prefix-inner"))},[Y(e.$slots,"prefix"),e.prefixIcon?(v(),_(t(A),{key:0,class:b(t(l).e("icon"))},{default:F(()=>[(v(),_(X(e.prefixIcon)))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0),S("input",se({id:t(T),ref_key:"input",ref:O,class:t(l).e("inner")},t(g),{type:e.showPassword?L.value?"text":"password":e.type,disabled:t(z),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:o.form,autofocus:o.autofocus,onCompositionstart:he,onCompositionupdate:ge,onCompositionend:be,onInput:ae,onFocus:n[0]||(n[0]=(...y)=>t(K)&&t(K)(...y)),onBlur:n[1]||(n[1]=(...y)=>t(j)&&t(j)(...y)),onChange:ye,onKeydown:we}),null,16,At),m(" suffix slot "),t(Re)?(v(),C("span",{key:1,class:b(t(l).e("suffix"))},[S("span",{class:b(t(l).e("suffix-inner"))},[!t(W)||!t(te)||!t(P)?(v(),C(Q,{key:0},[Y(e.$slots,"suffix"),e.suffixIcon?(v(),_(t(A),{key:0,class:b(t(l).e("icon"))},{default:F(()=>[(v(),_(X(e.suffixIcon)))]),_:1},8,["class"])):m("v-if",!0)],64)):m("v-if",!0),t(W)?(v(),_(t(A),{key:1,class:b([t(l).e("icon"),t(l).e("clear")]),onMousedown:Ze(t(et),["prevent"]),onClick:Ce},{default:F(()=>[M(t(mt))]),_:1},8,["class","onMousedown"])):m("v-if",!0),t(te)?(v(),_(t(A),{key:2,class:b([t(l).e("icon"),t(l).e("password")]),onClick:Le},{default:F(()=>[(v(),_(X(t(Be))))]),_:1},8,["class"])):m("v-if",!0),t(P)?(v(),C("span",{key:3,class:b(t(l).e("count"))},[S("span",{class:b(t(l).e("count-inner"))},q(t(oe))+" / "+q(t(g).maxlength),3)],2)):m("v-if",!0),t(N)&&t(ve)&&t(fe)?(v(),_(t(A),{key:4,class:b([t(l).e("icon"),t(l).e("validateIcon"),t(l).is("loading",t(N)==="validating")])},{default:F(()=>[(v(),_(X(t(ve))))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0)],2),m(" append slot "),e.$slots.append?(v(),C("div",{key:1,class:b(t(l).be("group","append"))},[Y(e.$slots,"append")],2)):m("v-if",!0)],64)):(v(),C(Q,{key:1},[m(" textarea "),S("textarea",se({id:t(T),ref_key:"textarea",ref:I,class:t(pe).e("inner")},t(g),{tabindex:e.tabindex,disabled:t(z),readonly:e.readonly,autocomplete:e.autocomplete,style:t(me),"aria-label":e.label,placeholder:e.placeholder,form:o.form,autofocus:o.autofocus,onCompositionstart:he,onCompositionupdate:ge,onCompositionend:be,onInput:ae,onFocus:n[2]||(n[2]=(...y)=>t(K)&&t(K)(...y)),onBlur:n[3]||(n[3]=(...y)=>t(j)&&t(j)(...y)),onChange:ye,onKeydown:we}),null,16,Mt),t(P)?(v(),C("span",{key:0,style:tt(de.value),class:b(t(l).e("count"))},q(t(oe))+" / "+q(t(g).maxlength),7)):m("v-if",!0)],64))],16,Rt)),[[Qe,e.type!=="hidden"]])}});var Ht=yt(Lt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Kt=ht(Ht);let jt={text:`<template>
    <el-input v-model="input" placeholder="输入需要粘贴的值" style="margin:0 12px 0 0;"></el-input>
    <yh-button type="primary" @click="copy">复制到剪切板</yh-button>
</template>

<script lang="ts">
import { defineComponent, ref } from "vue";
import { Copy } from "yhht-plus/utils";
import { ElInput } from "element-plus";
export default defineComponent({
  components: { ElInput },
  setup() {
    let input = ref("");
    const copy=()=> {
      Copy(input.value)
        .then((res) => {
          console.log('success', res);
        })
        .catch((err) => {
          console.log('error', err);

        });
    }
    return {
      input,
      copy,
    };
  },
});
<\/script>
`};const Wt=ie({setup(){let a=k(""),p=jt;function r(){bt(a.value).then(o=>{console.log("success",o)}).catch(o=>{console.log("error",o)})}return{input:a,copy:r,text:p}}}),ue=a=>(st("data-v-8f0fd36a"),a=a(),lt(),a),Ut=ue(()=>S("h2",{class:"yh-title"},"复制到剪切板",-1)),Yt=ue(()=>S("p",null,"把需要复制的内容复制到剪切板",-1)),Xt=ue(()=>S("h3",{class:"yh-title"},"例子",-1)),qt={style:{margin:"10px","box-sizing":"border-box"},class:"flex"};function Gt(a,p,r,o,i,u){const c=_e("code-light"),h=Kt,d=_e("yh-button"),g=at;return v(),C(Q,null,[Ut,Yt,M(c,{wrapClass:"codes",text:`// 引入\r
import { Copy } from 'yhht-plus/utils';\r
//使用\r
Copy('需要复制的值').then((res) => {\r
  console.log('success', res);\r
}).catch((err) => {\r
  console.log('error', err);\r
});`}),Xt,M(g,{codeText:a.text.text,style:{position:"relative"},"code-type":"language-xml vue"},{default:F(()=>[S("div",qt,[M(h,{modelValue:a.input,"onUpdate:modelValue":p[0]||(p[0]=x=>a.input=x),placeholder:"输入需要粘贴的值",style:{margin:"0 12px 0 0"}},null,8,["modelValue"]),M(d,{type:"primary",onClick:a.copy},{default:F(()=>[nt("复制到剪切板")]),_:1},8,["onClick"])])]),_:1},8,["codeText"])],64)}const oo=ot(Wt,[["render",Gt],["__scopeId","data-v-8f0fd36a"]]);export{oo as default};
