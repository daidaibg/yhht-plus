import{c as d,g as je,r as k,d as le,af as We,M as Ue,s as ee,w as te,x as P,o as Ye,t as Xe,j as qe,v as Je,e as f,m as x,C as m,F as q,n as h,u as t,A as U,k as _,f as I,h as z,B as Y,H as oe,q as R,R as Ze,L as X,l as Ge,_ as Qe,ab as et,S as tt,X as ot,Y as at,N as _e}from"./index-4dbc8810.js";import{b as nt,e as st,c as lt,d as rt,i as it,g as Se}from"./base-34a022f5.js";import{m as ut,C as ct}from"./copy-6da77515.js";import{a as Ve,f as pt,g as Ie,e as dt,p as ae,s as ft,d as ne,v as Ee,h as ke,V as vt,I as mt,J as ht,l as yt,E as M,K as gt,N as bt,_ as xt,m as ze,w as wt}from"./index-fcccd5d4.js";const Ct=()=>Ve&&/firefox/i.test(window.navigator.userAgent),se="update:modelValue",_t=a=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(a),St=["class","style"],It=/^on[A-Z]/,Et=(a={})=>{const{excludeListeners:c=!1,excludeKeys:s}=a,o=d(()=>((s==null?void 0:s.value)||[]).concat(St)),r=je();return r?d(()=>{var i;return pt(Object.entries((i=r.proxy)==null?void 0:i.$attrs).filter(([u])=>!o.value.includes(u)&&!(c&&It.test(u))))}):d(()=>({}))};function kt(a){const c=k();function s(){if(a.value==null)return;const{selectionStart:r,selectionEnd:i,value:u}=a.value;if(r==null||i==null)return;const g=u.slice(0,Math.max(0,r)),p=u.slice(Math.max(0,i));c.value={selectionStart:r,selectionEnd:i,value:u,beforeTxt:g,afterTxt:p}}function o(){if(a.value==null||c.value==null)return;const{value:r}=a.value,{beforeTxt:i,afterTxt:u,selectionStart:g}=c.value;if(i==null||u==null||g==null)return;let p=r.length;if(r.endsWith(u))p=r.length-u.length;else if(r.startsWith(i))p=i.length;else{const y=i[g-1],w=r.indexOf(y,g-1);w!==-1&&(p=w+1)}a.value.setSelectionRange(p,p)}return[s,o]}let b;const zt=`
  height:0 !important;
  visibility:hidden !important;
  ${Ct()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Ft=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Vt(a){const c=window.getComputedStyle(a),s=c.getPropertyValue("box-sizing"),o=Number.parseFloat(c.getPropertyValue("padding-bottom"))+Number.parseFloat(c.getPropertyValue("padding-top")),r=Number.parseFloat(c.getPropertyValue("border-bottom-width"))+Number.parseFloat(c.getPropertyValue("border-top-width"));return{contextStyle:Ft.map(u=>`${u}:${c.getPropertyValue(u)}`).join(";"),paddingSize:o,borderSize:r,boxSizing:s}}function Fe(a,c=1,s){var o;b||(b=document.createElement("textarea"),document.body.appendChild(b));const{paddingSize:r,borderSize:i,boxSizing:u,contextStyle:g}=Vt(a);b.setAttribute("style",`${g};${zt}`),b.value=a.value||a.placeholder||"";let p=b.scrollHeight;const y={};u==="border-box"?p=p+i:u==="content-box"&&(p=p-r),b.value="";const w=b.scrollHeight-r;if(Ie(c)){let v=w*c;u==="border-box"&&(v=v+r+i),p=Math.max(v,p),y.minHeight=`${v}px`}if(Ie(s)){let v=w*s;u==="border-box"&&(v=v+r+i),p=Math.min(v,p)}return y.height=`${p}px`,(o=b.parentNode)==null||o.removeChild(b),b=void 0,y}const Pt=dt({id:{type:String,default:void 0},size:ft,disabled:Boolean,modelValue:{type:ne([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ne([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ee},prefixIcon:{type:Ee},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ne([Object,Array,String]),default:()=>ut({})}}),$t={[se]:a=>ae(a),input:a=>ae(a),change:a=>ae(a),focus:a=>a instanceof FocusEvent,blur:a=>a instanceof FocusEvent,clear:()=>!0,mouseleave:a=>a instanceof MouseEvent,mouseenter:a=>a instanceof MouseEvent,keydown:a=>a instanceof Event,compositionstart:a=>a instanceof CompositionEvent,compositionupdate:a=>a instanceof CompositionEvent,compositionend:a=>a instanceof CompositionEvent},Nt=["role"],Tt=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Bt=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],At=le({name:"ElInput",inheritAttrs:!1}),Dt=le({...At,props:Pt,emits:$t,setup(a,{expose:c,emit:s}){const o=a,r=We(),i=Ue(),u=d(()=>{const e={};return o.containerRole==="combobox"&&(e["aria-haspopup"]=r["aria-haspopup"],e["aria-owns"]=r["aria-owns"],e["aria-expanded"]=r["aria-expanded"]),e}),g=d(()=>[o.type==="textarea"?ue.b():n.b(),n.m(Pe.value),n.is("disabled",F.value),n.is("exceed",Te.value),{[n.b("group")]:i.prepend||i.append,[n.bm("group","append")]:i.append,[n.bm("group","prepend")]:i.prepend,[n.m("prefix")]:i.prefix||o.prefixIcon,[n.m("suffix")]:i.suffix||o.suffixIcon||o.clearable||o.showPassword,[n.bm("suffix","password-clear")]:K.value&&Z.value},r.class]),p=d(()=>[n.e("wrapper"),n.is("focus",$.value)]),y=Et({excludeKeys:d(()=>Object.keys(u.value))}),{form:w,formItem:v}=nt(),{inputId:ie}=st(o,{formItemContext:v}),Pe=lt(),F=rt(),n=ke("input"),ue=ke("textarea"),O=ee(),S=ee(),$=k(!1),J=k(!1),N=k(!1),H=k(!1),ce=k(),L=ee(o.inputStyle),T=d(()=>O.value||S.value),pe=d(()=>{var e;return(e=w==null?void 0:w.statusIcon)!=null?e:!1}),B=d(()=>(v==null?void 0:v.validateState)||""),de=d(()=>B.value&&vt[B.value]),$e=d(()=>H.value?mt:ht),Ne=d(()=>[r.style,o.inputStyle]),fe=d(()=>[o.inputStyle,L.value,{resize:o.resize}]),E=d(()=>it(o.modelValue)?"":String(o.modelValue)),K=d(()=>o.clearable&&!F.value&&!o.readonly&&!!E.value&&($.value||J.value)),Z=d(()=>o.showPassword&&!F.value&&!o.readonly&&!!E.value&&(!!E.value||$.value)),V=d(()=>o.showWordLimit&&!!y.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!F.value&&!o.readonly&&!o.showPassword),G=d(()=>E.value.length),Te=d(()=>!!V.value&&G.value>Number(y.value.maxlength)),Be=d(()=>!!i.suffix||!!o.suffixIcon||K.value||o.showPassword||V.value||!!B.value&&pe.value),[Ae,De]=kt(O);yt(S,e=>{if(Me(),!V.value||o.resize!=="both")return;const l=e[0],{width:C}=l.contentRect;ce.value={right:`calc(100% - ${C+15+6}px)`}});const A=()=>{const{type:e,autosize:l}=o;if(!(!Ve||e!=="textarea"||!S.value))if(l){const C=ze(l)?l.minRows:void 0,W=ze(l)?l.maxRows:void 0,Ce=Fe(S.value,C,W);L.value={overflowY:"hidden",...Ce},P(()=>{S.value.offsetHeight,L.value=Ce})}else L.value={minHeight:Fe(S.value).minHeight}},Me=(e=>{let l=!1;return()=>{var C;if(l||!o.autosize)return;((C=S.value)==null?void 0:C.offsetParent)===null||(e(),l=!0)}})(A),D=()=>{const e=T.value;!e||e.value===E.value||(e.value=E.value)},Q=async e=>{Ae();let{value:l}=e.target;if(o.formatter&&(l=o.parser?o.parser(l):l,l=o.formatter(l)),!N.value){if(l===E.value){D();return}s(se,l),s("input",l),await P(),D(),De()}},ve=e=>{s("change",e.target.value)},me=e=>{s("compositionstart",e),N.value=!0},he=e=>{var l;s("compositionupdate",e);const C=(l=e.target)==null?void 0:l.value,W=C[C.length-1]||"";N.value=!_t(W)},ye=e=>{s("compositionend",e),N.value&&(N.value=!1,Q(e))},Re=()=>{H.value=!H.value,j()},j=async()=>{var e;await P(),(e=T.value)==null||e.focus()},Oe=()=>{var e;return(e=T.value)==null?void 0:e.blur()},ge=e=>{$.value=!0,s("focus",e)},be=e=>{var l;$.value=!1,s("blur",e),o.validateEvent&&((l=v==null?void 0:v.validate)==null||l.call(v,"blur").catch(C=>Se()))},He=e=>{J.value=!1,s("mouseleave",e)},Le=e=>{J.value=!0,s("mouseenter",e)},xe=e=>{s("keydown",e)},Ke=()=>{var e;(e=T.value)==null||e.select()},we=()=>{s(se,""),s("change",""),s("clear"),s("input","")};return te(()=>o.modelValue,()=>{var e;P(()=>A()),o.validateEvent&&((e=v==null?void 0:v.validate)==null||e.call(v,"change").catch(l=>Se()))}),te(E,()=>D()),te(()=>o.type,async()=>{await P(),D(),A()}),Ye(()=>{!o.formatter&&o.parser,D(),P(A)}),c({input:O,textarea:S,ref:T,textareaStyle:fe,autosize:Xe(o,"autosize"),focus:j,blur:Oe,select:Ke,clear:we,resizeTextarea:A}),(e,l)=>qe((f(),x("div",oe(t(u),{class:t(g),style:t(Ne),role:e.containerRole,onMouseenter:Le,onMouseleave:He}),[m(" input "),e.type!=="textarea"?(f(),x(q,{key:0},[m(" prepend slot "),e.$slots.prepend?(f(),x("div",{key:0,class:h(t(n).be("group","prepend"))},[U(e.$slots,"prepend")],2)):m("v-if",!0),_("div",{class:h(t(p))},[m(" prefix slot "),e.$slots.prefix||e.prefixIcon?(f(),x("span",{key:0,class:h(t(n).e("prefix"))},[_("span",{class:h(t(n).e("prefix-inner")),onClick:j},[U(e.$slots,"prefix"),e.prefixIcon?(f(),I(t(M),{key:0,class:h(t(n).e("icon"))},{default:z(()=>[(f(),I(Y(e.prefixIcon)))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0),_("input",oe({id:t(ie),ref_key:"input",ref:O,class:t(n).e("inner")},t(y),{type:e.showPassword?H.value?"text":"password":e.type,disabled:t(F),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:o.form,onCompositionstart:me,onCompositionupdate:he,onCompositionend:ye,onInput:Q,onFocus:ge,onBlur:be,onChange:ve,onKeydown:xe}),null,16,Tt),m(" suffix slot "),t(Be)?(f(),x("span",{key:1,class:h(t(n).e("suffix"))},[_("span",{class:h(t(n).e("suffix-inner")),onClick:j},[!t(K)||!t(Z)||!t(V)?(f(),x(q,{key:0},[U(e.$slots,"suffix"),e.suffixIcon?(f(),I(t(M),{key:0,class:h(t(n).e("icon"))},{default:z(()=>[(f(),I(Y(e.suffixIcon)))]),_:1},8,["class"])):m("v-if",!0)],64)):m("v-if",!0),t(K)?(f(),I(t(M),{key:1,class:h([t(n).e("icon"),t(n).e("clear")]),onMousedown:Ze(t(bt),["prevent"]),onClick:we},{default:z(()=>[R(t(gt))]),_:1},8,["class","onMousedown"])):m("v-if",!0),t(Z)?(f(),I(t(M),{key:2,class:h([t(n).e("icon"),t(n).e("password")]),onClick:Re},{default:z(()=>[(f(),I(Y(t($e))))]),_:1},8,["class"])):m("v-if",!0),t(V)?(f(),x("span",{key:3,class:h(t(n).e("count"))},[_("span",{class:h(t(n).e("count-inner"))},X(t(G))+" / "+X(t(y).maxlength),3)],2)):m("v-if",!0),t(B)&&t(de)&&t(pe)?(f(),I(t(M),{key:4,class:h([t(n).e("icon"),t(n).e("validateIcon"),t(n).is("loading",t(B)==="validating")])},{default:z(()=>[(f(),I(Y(t(de))))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0)],2),m(" append slot "),e.$slots.append?(f(),x("div",{key:1,class:h(t(n).be("group","append"))},[U(e.$slots,"append")],2)):m("v-if",!0)],64)):(f(),x(q,{key:1},[m(" textarea "),_("textarea",oe({id:t(ie),ref_key:"textarea",ref:S,class:t(ue).e("inner")},t(y),{tabindex:e.tabindex,disabled:t(F),readonly:e.readonly,autocomplete:e.autocomplete,style:t(fe),"aria-label":e.label,placeholder:e.placeholder,form:o.form,onCompositionstart:me,onCompositionupdate:he,onCompositionend:ye,onInput:Q,onFocus:ge,onBlur:be,onChange:ve,onKeydown:xe}),null,16,Bt),t(V)?(f(),x("span",{key:0,style:Ge(ce.value),class:h(t(n).e("count"))},X(t(G))+" / "+X(t(y).maxlength),7)):m("v-if",!0)],64))],16,Nt)),[[Je,e.type!=="hidden"]])}});var Mt=xt(Dt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Rt=wt(Mt);let Ot={text:`<template>
    <el-input v-model="input" placeholder="输入需要粘贴的值" style="margin:0 12px 0 0;"></el-input>
    <yh-button type="primary" @click="copy">复制到剪切板</yh-button>
</template>

<script lang="ts">
import { defineComponent, ref } from "vue";
import { Copy } from "yhht-plus/utils";
import { ElInput } from "element-plus";
export default defineComponent({
  components: { ElInput },
  setup() {
    let input = ref("");
    const copy=()=> {
      Copy(input.value)
        .then((res) => {
          console.log('success', res);
        })
        .catch((err) => {
          console.log('error', err);

        });
    }
    return {
      input,
      copy,
    };
  },
});
<\/script>
`};const Ht=le({setup(){let a=k(""),c=Ot;function s(){ct(a.value).then(o=>{console.log("success",o)}).catch(o=>{console.log("error",o)})}return{input:a,copy:s,text:c}}});const re=a=>(ot("data-v-8f0fd36a"),a=a(),at(),a),Lt=re(()=>_("h2",{class:"yh-title"},"复制到剪切板",-1)),Kt=re(()=>_("p",null,"把需要复制的内容复制到剪切板",-1)),jt=re(()=>_("h3",{class:"yh-title"},"例子",-1)),Wt={style:{margin:"10px","box-sizing":"border-box"},class:"flex"};function Ut(a,c,s,o,r,i){const u=_e("code-light"),g=Rt,p=_e("yh-button"),y=et;return f(),x(q,null,[Lt,Kt,R(u,{wrapClass:"codes",text:`// 引入\r
import { Copy } from 'yhht-plus/utils';\r
//使用\r
Copy('需要复制的值').then((res) => {\r
  console.log('success', res);\r
}).catch((err) => {\r
  console.log('error', err);\r
});`}),jt,R(y,{codeText:a.text.text,style:{position:"relative"},"code-type":"language-xml vue"},{default:z(()=>[_("div",Wt,[R(g,{modelValue:a.input,"onUpdate:modelValue":c[0]||(c[0]=w=>a.input=w),placeholder:"输入需要粘贴的值",style:{margin:"0 12px 0 0"}},null,8,["modelValue"]),R(p,{type:"primary",onClick:a.copy},{default:z(()=>[tt("复制到剪切板")]),_:1},8,["onClick"])])]),_:1},8,["codeText"])],64)}const Gt=Qe(Ht,[["render",Ut],["__scopeId","data-v-8f0fd36a"]]);export{Gt as default};
