import{u as p,c as I,K as m,o as h}from"./index-71a81f31.js";import{c as v,u as E,g as w,f as l,r as c,o as j,w as $,t as y,ak as K}from"./index-37be681d.js";function U(n){return n==null}class N extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function k(n,e){throw new N(`[${n}] ${e}`)}function B(n,e){}const d={prefix:Math.floor(Math.random()*1e4),current:0},g=Symbol("elIdInjection"),F=()=>w()?l(g,d):d,R=n=>{const e=F(),s=p("namespace",I);return v(()=>E(n)||`${s.value}-id-${e.prefix}-${e.current++}`)},D=()=>{const n=l(m,void 0),e=l(h,void 0);return{form:n,formItem:e}},J=(n,{formItemContext:e,disableIdGeneration:s,disableIdManagement:o})=>{s||(s=c(!1)),o||(o=c(!1));const u=c();let a;const f=v(()=>{var r;return!!(!n.label&&e&&e.inputIds&&((r=e.inputIds)==null?void 0:r.length)<=1)});return j(()=>{a=$([y(n,"id"),s],([r,i])=>{const t=r??(i?void 0:R().value);t!==u.value&&(e!=null&&e.removeInputId&&(u.value&&e.removeInputId(u.value),!(o!=null&&o.value)&&!i&&t&&e.addInputId(t)),u.value=t)},{immediate:!0})}),K(()=>{a&&a(),e!=null&&e.removeInputId&&u.value&&e.removeInputId(u.value)}),{isLabeledByFormItem:f,inputId:u}};export{R as a,D as b,J as c,B as d,U as i,k as t,F as u};
