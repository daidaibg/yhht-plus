import{c as d,g as He,r as k,L as ee,e as le,ak as Ke,S as je,s as te,w as oe,z as B,o as Ue,t as We,l as Ye,v as Xe,h as f,x,E as m,F as Y,n as y,u as t,C as j,m as C,j as _,k as z,D as U,K as ae,y as M,Y as qe,N as Ze,R as W,q as Ge,G as Ce,a3 as Je,ag as Qe,Z as et,a1 as tt,a2 as ot,U as _e}from"./index-c3c2344b.js";import{b as at,c as nt,i as st,d as Se}from"./base-f153d0bd.js";import{m as lt,C as rt}from"./copy-6da77515.js";import{i as Fe,f as it,j as Ie,e as ut,s as ct,d as ne,v as Ee,q as pt,r as dt,g as ke,V as ft,H as vt,I as mt,l as yt,E as D,J as ht,_ as gt,w as bt}from"./index-6a0b1ff0.js";const se="update:modelValue",xt=()=>Fe&&/firefox/i.test(window.navigator.userAgent),wt=a=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(a),Ct=["class","style"],_t=/^on[A-Z]/,St=(a={})=>{const{excludeListeners:c=!1,excludeKeys:s}=a,o=d(()=>((s==null?void 0:s.value)||[]).concat(Ct)),l=He();return l?d(()=>{var r;return it(Object.entries((r=l.proxy)==null?void 0:r.$attrs).filter(([u])=>!o.value.includes(u)&&!(c&&_t.test(u))))}):d(()=>({}))};function It(a){const c=k();function s(){if(a.value==null)return;const{selectionStart:l,selectionEnd:r,value:u}=a.value;if(l==null||r==null)return;const g=u.slice(0,Math.max(0,l)),p=u.slice(Math.max(0,r));c.value={selectionStart:l,selectionEnd:r,value:u,beforeTxt:g,afterTxt:p}}function o(){if(a.value==null||c.value==null)return;const{value:l}=a.value,{beforeTxt:r,afterTxt:u,selectionStart:g}=c.value;if(r==null||u==null||g==null)return;let p=l.length;if(l.endsWith(u))p=l.length-u.length;else if(l.startsWith(r))p=r.length;else{const h=r[g-1],w=l.indexOf(h,g-1);w!==-1&&(p=w+1)}a.value.setSelectionRange(p,p)}return[s,o]}let b;const Et=`
  height:0 !important;
  visibility:hidden !important;
  ${xt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,kt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function zt(a){const c=window.getComputedStyle(a),s=c.getPropertyValue("box-sizing"),o=Number.parseFloat(c.getPropertyValue("padding-bottom"))+Number.parseFloat(c.getPropertyValue("padding-top")),l=Number.parseFloat(c.getPropertyValue("border-bottom-width"))+Number.parseFloat(c.getPropertyValue("border-top-width"));return{contextStyle:kt.map(u=>`${u}:${c.getPropertyValue(u)}`).join(";"),paddingSize:o,borderSize:l,boxSizing:s}}function ze(a,c=1,s){var o;b||(b=document.createElement("textarea"),document.body.appendChild(b));const{paddingSize:l,borderSize:r,boxSizing:u,contextStyle:g}=zt(a);b.setAttribute("style",`${g};${Et}`),b.value=a.value||a.placeholder||"";let p=b.scrollHeight;const h={};u==="border-box"?p=p+r:u==="content-box"&&(p=p-l),b.value="";const w=b.scrollHeight-l;if(Ie(c)){let v=w*c;u==="border-box"&&(v=v+l+r),p=Math.max(v,p),h.minHeight=`${v}px`}if(Ie(s)){let v=w*s;u==="border-box"&&(v=v+l+r),p=Math.min(v,p)}return h.height=`${p}px`,(o=b.parentNode)==null||o.removeChild(b),b=void 0,h}const Ft=ut({id:{type:String,default:void 0},size:ct,disabled:Boolean,modelValue:{type:ne([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ne([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ee},prefixIcon:{type:Ee},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ne([Object,Array,String]),default:()=>lt({})}}),Vt={[se]:a=>ee(a),input:a=>ee(a),change:a=>ee(a),focus:a=>a instanceof FocusEvent,blur:a=>a instanceof FocusEvent,clear:()=>!0,mouseleave:a=>a instanceof MouseEvent,mouseenter:a=>a instanceof MouseEvent,keydown:a=>a instanceof Event,compositionstart:a=>a instanceof CompositionEvent,compositionupdate:a=>a instanceof CompositionEvent,compositionend:a=>a instanceof CompositionEvent},$t=["role"],Pt=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Nt=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],Tt=le({name:"ElInput",inheritAttrs:!1}),At=le({...Tt,props:Ft,emits:Vt,setup(a,{expose:c,emit:s}){const o=a,l=Ke(),r=je(),u=d(()=>{const e={};return o.containerRole==="combobox"&&(e["aria-haspopup"]=l["aria-haspopup"],e["aria-owns"]=l["aria-owns"],e["aria-expanded"]=l["aria-expanded"]),e}),g=d(()=>[o.type==="textarea"?ue.b():n.b(),n.m(Ve.value),n.is("disabled",F.value),n.is("exceed",Ne.value),{[n.b("group")]:r.prepend||r.append,[n.bm("group","append")]:r.append,[n.bm("group","prepend")]:r.prepend,[n.m("prefix")]:r.prefix||o.prefixIcon,[n.m("suffix")]:r.suffix||o.suffixIcon||o.clearable||o.showPassword,[n.bm("suffix","password-clear")]:O.value&&Z.value},l.class]),p=d(()=>[n.e("wrapper"),n.is("focus",$.value)]),h=St({excludeKeys:d(()=>Object.keys(u.value))}),{form:w,formItem:v}=at(),{inputId:ie}=nt(o,{formItemContext:v}),Ve=pt(),F=dt(),n=ke("input"),ue=ke("textarea"),R=te(),I=te(),$=k(!1),X=k(!1),P=k(!1),L=k(!1),ce=k(),q=te(o.inputStyle),N=d(()=>R.value||I.value),pe=d(()=>{var e;return(e=w==null?void 0:w.statusIcon)!=null?e:!1}),T=d(()=>(v==null?void 0:v.validateState)||""),de=d(()=>T.value&&ft[T.value]),$e=d(()=>L.value?vt:mt),Pe=d(()=>[l.style,o.inputStyle]),fe=d(()=>[o.inputStyle,q.value,{resize:o.resize}]),S=d(()=>st(o.modelValue)?"":String(o.modelValue)),O=d(()=>o.clearable&&!F.value&&!o.readonly&&!!S.value&&($.value||X.value)),Z=d(()=>o.showPassword&&!F.value&&!o.readonly&&!!S.value&&(!!S.value||$.value)),V=d(()=>o.showWordLimit&&!!h.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!F.value&&!o.readonly&&!o.showPassword),G=d(()=>Array.from(S.value).length),Ne=d(()=>!!V.value&&G.value>Number(h.value.maxlength)),Te=d(()=>!!r.suffix||!!o.suffixIcon||O.value||o.showPassword||V.value||!!T.value&&pe.value),[Ae,Be]=It(R);yt(I,e=>{if(!V.value||o.resize!=="both")return;const i=e[0],{width:E}=i.contentRect;ce.value={right:`calc(100% - ${E+15+6}px)`}});const H=()=>{const{type:e,autosize:i}=o;if(!(!Fe||e!=="textarea"||!I.value))if(i){const E=Ce(i)?i.minRows:void 0,Q=Ce(i)?i.maxRows:void 0;q.value={...ze(I.value,E,Q)}}else q.value={minHeight:ze(I.value).minHeight}},A=()=>{const e=N.value;!e||e.value===S.value||(e.value=S.value)},J=async e=>{Ae();let{value:i}=e.target;if(o.formatter&&(i=o.parser?o.parser(i):i,i=o.formatter(i)),!P.value){if(i===S.value){A();return}s(se,i),s("input",i),await B(),A(),Be()}},ve=e=>{s("change",e.target.value)},me=e=>{s("compositionstart",e),P.value=!0},ye=e=>{var i;s("compositionupdate",e);const E=(i=e.target)==null?void 0:i.value,Q=E[E.length-1]||"";P.value=!wt(Q)},he=e=>{s("compositionend",e),P.value&&(P.value=!1,J(e))},De=()=>{L.value=!L.value,K()},K=async()=>{var e;await B(),(e=N.value)==null||e.focus()},Me=()=>{var e;return(e=N.value)==null?void 0:e.blur()},ge=e=>{$.value=!0,s("focus",e)},be=e=>{var i;$.value=!1,s("blur",e),o.validateEvent&&((i=v==null?void 0:v.validate)==null||i.call(v,"blur").catch(E=>Se()))},Re=e=>{X.value=!1,s("mouseleave",e)},Le=e=>{X.value=!0,s("mouseenter",e)},xe=e=>{s("keydown",e)},Oe=()=>{var e;(e=N.value)==null||e.select()},we=()=>{s(se,""),s("change",""),s("clear"),s("input","")};return oe(()=>o.modelValue,()=>{var e;B(()=>H()),o.validateEvent&&((e=v==null?void 0:v.validate)==null||e.call(v,"change").catch(i=>Se()))}),oe(S,()=>A()),oe(()=>o.type,async()=>{await B(),A(),H()}),Ue(()=>{!o.formatter&&o.parser,A(),B(H)}),c({input:R,textarea:I,ref:N,textareaStyle:fe,autosize:We(o,"autosize"),focus:K,blur:Me,select:Oe,clear:we,resizeTextarea:H}),(e,i)=>Ye((f(),x("div",ae(t(u),{class:t(g),style:t(Pe),role:e.containerRole,onMouseenter:Le,onMouseleave:Re}),[m(" input "),e.type!=="textarea"?(f(),x(Y,{key:0},[m(" prepend slot "),e.$slots.prepend?(f(),x("div",{key:0,class:y(t(n).be("group","prepend"))},[j(e.$slots,"prepend")],2)):m("v-if",!0),C("div",{class:y(t(p))},[m(" prefix slot "),e.$slots.prefix||e.prefixIcon?(f(),x("span",{key:0,class:y(t(n).e("prefix"))},[C("span",{class:y(t(n).e("prefix-inner")),onClick:K},[j(e.$slots,"prefix"),e.prefixIcon?(f(),_(t(D),{key:0,class:y(t(n).e("icon"))},{default:z(()=>[(f(),_(U(e.prefixIcon)))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0),C("input",ae({id:t(ie),ref_key:"input",ref:R,class:t(n).e("inner")},t(h),{type:e.showPassword?L.value?"text":"password":e.type,disabled:t(F),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:o.form,onCompositionstart:me,onCompositionupdate:ye,onCompositionend:he,onInput:J,onFocus:ge,onBlur:be,onChange:ve,onKeydown:xe}),null,16,Pt),m(" suffix slot "),t(Te)?(f(),x("span",{key:1,class:y(t(n).e("suffix"))},[C("span",{class:y(t(n).e("suffix-inner")),onClick:K},[!t(O)||!t(Z)||!t(V)?(f(),x(Y,{key:0},[j(e.$slots,"suffix"),e.suffixIcon?(f(),_(t(D),{key:0,class:y(t(n).e("icon"))},{default:z(()=>[(f(),_(U(e.suffixIcon)))]),_:1},8,["class"])):m("v-if",!0)],64)):m("v-if",!0),t(O)?(f(),_(t(D),{key:1,class:y([t(n).e("icon"),t(n).e("clear")]),onMousedown:qe(t(Ze),["prevent"]),onClick:we},{default:z(()=>[M(t(ht))]),_:1},8,["class","onMousedown"])):m("v-if",!0),t(Z)?(f(),_(t(D),{key:2,class:y([t(n).e("icon"),t(n).e("password")]),onClick:De},{default:z(()=>[(f(),_(U(t($e))))]),_:1},8,["class"])):m("v-if",!0),t(V)?(f(),x("span",{key:3,class:y(t(n).e("count"))},[C("span",{class:y(t(n).e("count-inner"))},W(t(G))+" / "+W(t(h).maxlength),3)],2)):m("v-if",!0),t(T)&&t(de)&&t(pe)?(f(),_(t(D),{key:4,class:y([t(n).e("icon"),t(n).e("validateIcon"),t(n).is("loading",t(T)==="validating")])},{default:z(()=>[(f(),_(U(t(de))))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0)],2),m(" append slot "),e.$slots.append?(f(),x("div",{key:1,class:y(t(n).be("group","append"))},[j(e.$slots,"append")],2)):m("v-if",!0)],64)):(f(),x(Y,{key:1},[m(" textarea "),C("textarea",ae({id:t(ie),ref_key:"textarea",ref:I,class:t(ue).e("inner")},t(h),{tabindex:e.tabindex,disabled:t(F),readonly:e.readonly,autocomplete:e.autocomplete,style:t(fe),"aria-label":e.label,placeholder:e.placeholder,form:o.form,onCompositionstart:me,onCompositionupdate:ye,onCompositionend:he,onInput:J,onFocus:ge,onBlur:be,onChange:ve,onKeydown:xe}),null,16,Nt),t(V)?(f(),x("span",{key:0,style:Ge(ce.value),class:y(t(n).e("count"))},W(t(G))+" / "+W(t(h).maxlength),7)):m("v-if",!0)],64))],16,$t)),[[Xe,e.type!=="hidden"]])}});var Bt=gt(At,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Dt=bt(Bt);let Mt={text:`<template>
    <el-input v-model="input" placeholder="输入需要粘贴的值" style="margin:0 12px 0 0;"></el-input>
    <yh-button type="primary" @click="copy">复制到剪切板</yh-button>
</template>

<script lang="ts">
import { defineComponent, ref } from "vue";
import { Copy } from "yhht-plus/utils";
import { ElInput } from "element-plus";
export default defineComponent({
  components: { ElInput },
  setup() {
    let input = ref("");
    const copy=()=> {
      Copy(input.value)
        .then((res) => {
          console.log('success', res);
        })
        .catch((err) => {
          console.log('error', err);

        });
    }
    return {
      input,
      copy,
    };
  },
});
<\/script>
`};const Rt=le({setup(){let a=k(""),c=Mt;function s(){rt(a.value).then(o=>{console.log("success",o)}).catch(o=>{console.log("error",o)})}return{input:a,copy:s,text:c}}});const re=a=>(tt("data-v-8f0fd36a"),a=a(),ot(),a),Lt=re(()=>C("h2",{class:"yh-title"},"复制到剪切板",-1)),Ot=re(()=>C("p",null,"把需要复制的内容复制到剪切板",-1)),Ht=re(()=>C("h3",{class:"yh-title"},"例子",-1)),Kt={style:{margin:"10px","box-sizing":"border-box"},class:"flex"};function jt(a,c,s,o,l,r){const u=_e("code-light"),g=Dt,p=_e("yh-button"),h=Qe;return f(),x(Y,null,[Lt,Ot,M(u,{wrapClass:"codes",text:`// 引入\r
import { Copy } from 'yhht-plus/utils';\r
//使用\r
Copy('需要复制的值').then((res) => {\r
  console.log('success', res);\r
}).catch((err) => {\r
  console.log('error', err);\r
});`}),Ht,M(h,{codeText:a.text.text,style:{position:"relative"},"code-type":"language-xml vue"},{default:z(()=>[C("div",Kt,[M(g,{modelValue:a.input,"onUpdate:modelValue":c[0]||(c[0]=w=>a.input=w),placeholder:"输入需要粘贴的值",style:{margin:"0 12px 0 0"}},null,8,["modelValue"]),M(p,{type:"primary",onClick:a.copy},{default:z(()=>[et("复制到剪切板")]),_:1},8,["onClick"])])]),_:1},8,["codeText"])],64)}const qt=Je(Rt,[["render",jt],["__scopeId","data-v-8f0fd36a"]]);export{qt as default};
