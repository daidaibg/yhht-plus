import{c as f,g as Pe,r as z,s as G,w as J,i as Ue,K as ae,d as ie,ae as Ye,R as Xe,y as $,o as qe,t as Ge,f as v,q as C,D as m,F as Q,n as g,u as t,B as Y,l as S,h as E,j as _,C as X,J as se,x as M,X as Je,N as Qe,Q as q,m as Ze,E as Ie,a5 as et,S as Ee,af as tt,Y as ot,a3 as nt,a4 as at}from"./index-ClgIeXr6.js";import{i as $e,f as st,h as lt,e as Fe,c as rt,n as it,d as le,p as _e,g as ze,V as ut,D as ct,F as pt,k as dt,E as D,G as ft,_ as vt,w as mt}from"./base-BsFfbfOh.js";import{m as ht,C as yt}from"./copy-BWx_s1gU.js";import{b as gt,e as bt,c as xt,d as wt,i as Ct,g as ke}from"./use-form-item-EnrOLtHS.js";const St=()=>$e&&/firefox/i.test(window.navigator.userAgent),re="update:modelValue",It=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n),Et=["class","style"],Ft=/^on[A-Z]/,_t=(n={})=>{const{excludeListeners:p=!1,excludeKeys:r}=n,o=f(()=>((r==null?void 0:r.value)||[]).concat(Et)),i=Pe();return i?f(()=>{var u;return st(Object.entries((u=i.proxy)==null?void 0:u.$attrs).filter(([c])=>!o.value.includes(c)&&!(p&&Ft.test(c))))}):f(()=>({}))};function zt(n){const p=z();function r(){if(n.value==null)return;const{selectionStart:i,selectionEnd:u,value:c}=n.value;if(i==null||u==null)return;const y=c.slice(0,Math.max(0,i)),d=c.slice(Math.max(0,u));p.value={selectionStart:i,selectionEnd:u,value:c,beforeTxt:y,afterTxt:d}}function o(){if(n.value==null||p.value==null)return;const{value:i}=n.value,{beforeTxt:u,afterTxt:c,selectionStart:y}=p.value;if(u==null||c==null||y==null)return;let d=i.length;if(i.endsWith(c))d=i.length-c.length;else if(i.startsWith(u))d=u.length;else{const b=u[y-1],x=i.indexOf(b,y-1);x!==-1&&(d=x+1)}n.value.setSelectionRange(d,d)}return[r,o]}function kt(n,{afterFocus:p,beforeBlur:r,afterBlur:o}={}){const i=Pe(),{emit:u}=i,c=G(),y=z(!1),d=l=>{y.value||(y.value=!0,u("focus",l),p==null||p())},b=l=>{var N;Ue(r)&&r(l)||l.relatedTarget&&((N=c.value)!=null&&N.contains(l.relatedTarget))||(y.value=!1,u("blur",l),o==null||o())},x=()=>{var l;(l=n.value)==null||l.focus()};return J(c,l=>{l&&l.setAttribute("tabindex","-1")}),lt(c,"click",x),{wrapperRef:c,isFocused:y,handleFocus:d,handleBlur:b}}let w;const Vt=`
  height:0 !important;
  visibility:hidden !important;
  ${St()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Pt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function $t(n){const p=window.getComputedStyle(n),r=p.getPropertyValue("box-sizing"),o=Number.parseFloat(p.getPropertyValue("padding-bottom"))+Number.parseFloat(p.getPropertyValue("padding-top")),i=Number.parseFloat(p.getPropertyValue("border-bottom-width"))+Number.parseFloat(p.getPropertyValue("border-top-width"));return{contextStyle:Pt.map(c=>`${c}:${p.getPropertyValue(c)}`).join(";"),paddingSize:o,borderSize:i,boxSizing:r}}function Ve(n,p=1,r){var o;w||(w=document.createElement("textarea"),document.body.appendChild(w));const{paddingSize:i,borderSize:u,boxSizing:c,contextStyle:y}=$t(n);w.setAttribute("style",`${y};${Vt}`),w.value=n.value||n.placeholder||"";let d=w.scrollHeight;const b={};c==="border-box"?d=d+u:c==="content-box"&&(d=d-i),w.value="";const x=w.scrollHeight-i;if(Fe(p)){let l=x*p;c==="border-box"&&(l=l+i+u),d=Math.max(l,d),b.minHeight=`${l}px`}if(Fe(r)){let l=x*r;c==="border-box"&&(l=l+i+u),d=Math.min(l,d)}return b.height=`${d}px`,(o=w.parentNode)==null||o.removeChild(w),w=void 0,b}const Nt=rt({id:{type:String,default:void 0},size:it,disabled:Boolean,modelValue:{type:le([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:le([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:_e},prefixIcon:{type:_e},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:le([Object,Array,String]),default:()=>ht({})},autofocus:{type:Boolean,default:!1}}),Tt={[re]:n=>ae(n),input:n=>ae(n),change:n=>ae(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},Bt=["role"],Rt=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],At=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Dt=ie({name:"ElInput",inheritAttrs:!1}),Mt=ie({...Dt,props:Nt,emits:Tt,setup(n,{expose:p,emit:r}){const o=n,i=Ye(),u=Xe(),c=f(()=>{const e={};return o.containerRole==="combobox"&&(e["aria-haspopup"]=i["aria-haspopup"],e["aria-owns"]=i["aria-owns"],e["aria-expanded"]=i["aria-expanded"]),e}),y=f(()=>[o.type==="textarea"?pe.b():s.b(),s.m(ce.value),s.is("disabled",k.value),s.is("exceed",Re.value),{[s.b("group")]:u.prepend||u.append,[s.bm("group","append")]:u.append,[s.bm("group","prepend")]:u.prepend,[s.m("prefix")]:u.prefix||o.prefixIcon,[s.m("suffix")]:u.suffix||o.suffixIcon||o.clearable||o.showPassword,[s.bm("suffix","password-clear")]:W.value&&te.value,[s.b("hidden")]:o.type==="hidden"},i.class]),d=f(()=>[s.e("wrapper"),s.is("focus",ee.value)]),b=_t({excludeKeys:f(()=>Object.keys(c.value))}),{form:x,formItem:l}=gt(),{inputId:N}=bt(o,{formItemContext:l}),ce=xt(),k=wt(),s=ze("input"),pe=ze("textarea"),O=G(),I=G(),Z=z(!1),T=z(!1),L=z(!1),de=z(),H=G(o.inputStyle),V=f(()=>O.value||I.value),{wrapperRef:Ne,isFocused:ee,handleFocus:K,handleBlur:j}=kt(V,{afterBlur(){var e;o.validateEvent&&((e=l==null?void 0:l.validate)==null||e.call(l,"blur").catch(a=>ke()))}}),fe=f(()=>{var e;return(e=x==null?void 0:x.statusIcon)!=null?e:!1}),B=f(()=>(l==null?void 0:l.validateState)||""),ve=f(()=>B.value&&ut[B.value]),Te=f(()=>L.value?ct:pt),Be=f(()=>[i.style]),me=f(()=>[o.inputStyle,H.value,{resize:o.resize}]),F=f(()=>Ct(o.modelValue)?"":String(o.modelValue)),W=f(()=>o.clearable&&!k.value&&!o.readonly&&!!F.value&&(ee.value||Z.value)),te=f(()=>o.showPassword&&!k.value&&!o.readonly&&!!F.value&&(!!F.value||ee.value)),P=f(()=>o.showWordLimit&&!!o.maxlength&&(o.type==="text"||o.type==="textarea")&&!k.value&&!o.readonly&&!o.showPassword),oe=f(()=>F.value.length),Re=f(()=>!!P.value&&oe.value>Number(o.maxlength)),Ae=f(()=>!!u.suffix||!!o.suffixIcon||W.value||o.showPassword||P.value||!!B.value&&fe.value),[De,Me]=zt(O);dt(I,e=>{if(Oe(),!P.value||o.resize!=="both")return;const a=e[0],{width:h}=a.contentRect;de.value={right:`calc(100% - ${h+15+6}px)`}});const R=()=>{const{type:e,autosize:a}=o;if(!(!$e||e!=="textarea"||!I.value))if(a){const h=Ie(a)?a.minRows:void 0,U=Ie(a)?a.maxRows:void 0,Se=Ve(I.value,h,U);H.value={overflowY:"hidden",...Se},$(()=>{I.value.offsetHeight,H.value=Se})}else H.value={minHeight:Ve(I.value).minHeight}},Oe=(e=>{let a=!1;return()=>{var h;if(a||!o.autosize)return;((h=I.value)==null?void 0:h.offsetParent)===null||(e(),a=!0)}})(R),A=()=>{const e=V.value,a=o.formatter?o.formatter(F.value):F.value;!e||e.value===a||(e.value=a)},ne=async e=>{De();let{value:a}=e.target;if(o.formatter&&(a=o.parser?o.parser(a):a),!T.value){if(a===F.value){A();return}r(re,a),r("input",a),await $(),A(),Me()}},he=e=>{r("change",e.target.value)},ye=e=>{r("compositionstart",e),T.value=!0},ge=e=>{var a;r("compositionupdate",e);const h=(a=e.target)==null?void 0:a.value,U=h[h.length-1]||"";T.value=!It(U)},be=e=>{r("compositionend",e),T.value&&(T.value=!1,ne(e))},Le=()=>{L.value=!L.value,xe()},xe=async()=>{var e;await $(),(e=V.value)==null||e.focus()},He=()=>{var e;return(e=V.value)==null?void 0:e.blur()},Ke=e=>{Z.value=!1,r("mouseleave",e)},je=e=>{Z.value=!0,r("mouseenter",e)},we=e=>{r("keydown",e)},We=()=>{var e;(e=V.value)==null||e.select()},Ce=()=>{r(re,""),r("change",""),r("clear"),r("input","")};return J(()=>o.modelValue,()=>{var e;$(()=>R()),o.validateEvent&&((e=l==null?void 0:l.validate)==null||e.call(l,"change").catch(a=>ke()))}),J(F,()=>A()),J(()=>o.type,async()=>{await $(),A(),R()}),qe(()=>{!o.formatter&&o.parser,A(),$(R)}),p({input:O,textarea:I,ref:V,textareaStyle:me,autosize:Ge(o,"autosize"),focus:xe,blur:He,select:We,clear:Ce,resizeTextarea:R}),(e,a)=>(v(),C("div",se(t(c),{class:t(y),style:t(Be),role:e.containerRole,onMouseenter:je,onMouseleave:Ke}),[m(" input "),e.type!=="textarea"?(v(),C(Q,{key:0},[m(" prepend slot "),e.$slots.prepend?(v(),C("div",{key:0,class:g(t(s).be("group","prepend"))},[Y(e.$slots,"prepend")],2)):m("v-if",!0),S("div",{ref_key:"wrapperRef",ref:Ne,class:g(t(d))},[m(" prefix slot "),e.$slots.prefix||e.prefixIcon?(v(),C("span",{key:0,class:g(t(s).e("prefix"))},[S("span",{class:g(t(s).e("prefix-inner"))},[Y(e.$slots,"prefix"),e.prefixIcon?(v(),E(t(D),{key:0,class:g(t(s).e("icon"))},{default:_(()=>[(v(),E(X(e.prefixIcon)))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0),S("input",se({id:t(N),ref_key:"input",ref:O,class:t(s).e("inner")},t(b),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?L.value?"text":"password":e.type,disabled:t(k),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,onCompositionstart:ye,onCompositionupdate:ge,onCompositionend:be,onInput:ne,onFocus:a[0]||(a[0]=(...h)=>t(K)&&t(K)(...h)),onBlur:a[1]||(a[1]=(...h)=>t(j)&&t(j)(...h)),onChange:he,onKeydown:we}),null,16,Rt),m(" suffix slot "),t(Ae)?(v(),C("span",{key:1,class:g(t(s).e("suffix"))},[S("span",{class:g(t(s).e("suffix-inner"))},[!t(W)||!t(te)||!t(P)?(v(),C(Q,{key:0},[Y(e.$slots,"suffix"),e.suffixIcon?(v(),E(t(D),{key:0,class:g(t(s).e("icon"))},{default:_(()=>[(v(),E(X(e.suffixIcon)))]),_:1},8,["class"])):m("v-if",!0)],64)):m("v-if",!0),t(W)?(v(),E(t(D),{key:1,class:g([t(s).e("icon"),t(s).e("clear")]),onMousedown:Je(t(Qe),["prevent"]),onClick:Ce},{default:_(()=>[M(t(ft))]),_:1},8,["class","onMousedown"])):m("v-if",!0),t(te)?(v(),E(t(D),{key:2,class:g([t(s).e("icon"),t(s).e("password")]),onClick:Le},{default:_(()=>[(v(),E(X(t(Te))))]),_:1},8,["class"])):m("v-if",!0),t(P)?(v(),C("span",{key:3,class:g(t(s).e("count"))},[S("span",{class:g(t(s).e("count-inner"))},q(t(oe))+" / "+q(e.maxlength),3)],2)):m("v-if",!0),t(B)&&t(ve)&&t(fe)?(v(),E(t(D),{key:4,class:g([t(s).e("icon"),t(s).e("validateIcon"),t(s).is("loading",t(B)==="validating")])},{default:_(()=>[(v(),E(X(t(ve))))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0)],2),m(" append slot "),e.$slots.append?(v(),C("div",{key:1,class:g(t(s).be("group","append"))},[Y(e.$slots,"append")],2)):m("v-if",!0)],64)):(v(),C(Q,{key:1},[m(" textarea "),S("textarea",se({id:t(N),ref_key:"textarea",ref:I,class:t(pe).e("inner")},t(b),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:t(k),readonly:e.readonly,autocomplete:e.autocomplete,style:t(me),"aria-label":e.label,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,onCompositionstart:ye,onCompositionupdate:ge,onCompositionend:be,onInput:ne,onFocus:a[2]||(a[2]=(...h)=>t(K)&&t(K)(...h)),onBlur:a[3]||(a[3]=(...h)=>t(j)&&t(j)(...h)),onChange:he,onKeydown:we}),null,16,At),t(P)?(v(),C("span",{key:0,style:Ze(de.value),class:g(t(s).e("count"))},q(t(oe))+" / "+q(e.maxlength),7)):m("v-if",!0)],64))],16,Bt))}});var Ot=vt(Mt,[["__file","input.vue"]]);const Lt=mt(Ot);let Ht={text:`<template>
    <el-input v-model="input" placeholder="输入需要粘贴的值" style="margin:0 12px 0 0;"></el-input>
    <yh-button type="primary" @click="copy">复制到剪切板</yh-button>
</template>

<script lang="ts">
import { defineComponent, ref } from "vue";
import { Copy } from "yhht-plus/utils";
import { ElInput } from "element-plus";
export default defineComponent({
  components: { ElInput },
  setup() {
    let input = ref("");
    const copy=()=> {
      Copy(input.value)
        .then((res) => {
          console.log('success', res);
        })
        .catch((err) => {
          console.log('error', err);

        });
    }
    return {
      input,
      copy,
    };
  },
});
<\/script>
`};const Kt=ie({setup(){let n=z(""),p=Ht;function r(){yt(n.value).then(o=>{console.log("success",o)}).catch(o=>{console.log("error",o)})}return{input:n,copy:r,text:p}}}),ue=n=>(nt("data-v-8f0fd36a"),n=n(),at(),n),jt=ue(()=>S("h2",{class:"yh-title"},"复制到剪切板",-1)),Wt=ue(()=>S("p",null,"把需要复制的内容复制到剪切板",-1)),Ut=ue(()=>S("h3",{class:"yh-title"},"例子",-1)),Yt={style:{margin:"10px","box-sizing":"border-box"},class:"flex"};function Xt(n,p,r,o,i,u){const c=Ee("code-light"),y=Lt,d=Ee("yh-button"),b=tt;return v(),C(Q,null,[jt,Wt,M(c,{wrapClass:"codes",text:`// 引入\r
import { Copy } from 'yhht-plus/utils';\r
//使用\r
Copy('需要复制的值').then((res) => {\r
  console.log('success', res);\r
}).catch((err) => {\r
  console.log('error', err);\r
});`}),Ut,M(b,{codeText:n.text.text,style:{position:"relative"},"code-type":"language-xml vue"},{default:_(()=>[S("div",Yt,[M(y,{modelValue:n.input,"onUpdate:modelValue":p[0]||(p[0]=x=>n.input=x),placeholder:"输入需要粘贴的值",style:{margin:"0 12px 0 0"}},null,8,["modelValue"]),M(d,{type:"primary",onClick:n.copy},{default:_(()=>[ot("复制到剪切板")]),_:1},8,["onClick"])])]),_:1},8,["codeText"])],64)}const eo=et(Kt,[["render",Xt],["__scopeId","data-v-8f0fd36a"]]);export{eo as default};
